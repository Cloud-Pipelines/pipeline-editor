(this["webpackJsonppipeline-editor"]=this["webpackJsonppipeline-editor"]||[]).push([[0],{12:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return i}));var r=n(3),a=n.n(r),o=n(5),c=n(16),i="https://raw.githubusercontent.com/Ark-kun/pipelines/2765b13699ac28de523f499eeaa9eb2ed9b8798a/components/deprecated/tfx/_samples/TFX.pipeline.component.yaml",s="https://raw.githubusercontent.com/Ark-kun/pipelines/77df9c97191a181fcd3cded83f147799d46eca20/components/XGBoost/_samples/sample_pipeline.pipeline.component.yaml",u="https://raw.githubusercontent.com/Ark-kun/pipelines/322c0c75f32d87acfd5da9c390dee0b5799bfdaf/components/PyTorch/_samples/Train_fully-connected_network.pipeline.component.yaml",p="https://raw.githubusercontent.com/Ark-kun/pipelines/b45c82e42588ee0a86b8875d1908d972275bfd2f/samples/test/data_passing.pipeline.component.yaml",l=function(){var e=Object(o.a)(a.a.mark((function e(t,n){var r,o,i,s,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=new Map),!("graph"in t.implementation)){e.next=19;break}r=0,o=Object.values(t.implementation.graph.tasks);case 3:if(!(r<o.length)){e.next=19;break}if(i=o[r],s=i.componentRef.url,void 0!==i.componentRef.spec||void 0===s){e.next=16;break}if(void 0!==(u=n.get(s))){e.next=13;break}return e.next=11,Object(c.a)(s);case 11:u=e.sent,n.set(s,u);case 13:return i.componentRef.spec=u,e.next=16,l(u,n);case 16:r++,e.next=3;break;case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(o.length>1&&void 0!==o[1])||o[1],e.next=3,Object(c.a)(t);case 3:if(r=e.sent,!n){e.next=8;break}return e.next=7,l(r);case 7:r=e.sent;case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},13:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(15),a=n(31),o=n(11),c=n(4),i=n(2),s=n(0),u=n(6),p=n(14),l=n(3),d=n.n(l),f=n(5),m=n(1),b=function(e){var t,n=e.taskSpec,r=e.closeEditor,a=e.setArguments,o=Object(s.useState)(Object(i.a)({},n.arguments)),u=Object(c.a)(o,2),p=u[0],l=u[1],b=n.componentRef.spec;if(void 0===b)return console.error("ArgumentsEditor called with missing taskSpec.componentRef.spec",n),Object(m.jsx)(m.Fragment,{});var v=null!==(t=b.inputs)&&void 0!==t?t:[];return Object(m.jsxs)("form",{onSubmit:function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),style:{position:"fixed",display:"table",borderSpacing:"5px",background:"white",border:"1px solid black",borderRadius:"4px",padding:"15px"},children:[Object(m.jsxs)("legend",{children:["Input arguments for ",b.name]}),Object(m.jsx)("div",{children:v.map((function(e){var t,n=e.name,r=void 0,a=void 0,o=p[n];void 0===o?r=e.default:"string"===typeof o?r=o:a="taskOutput"in o?"<from task ".concat(o.taskOutput.taskId," / ").concat(o.taskOutput.outputName,">"):"graphInput"in o?"<from graph input ".concat(o.graphInput.inputName,">"):"<reference>";var c,s=!(n in p)&&!0!==e.optional&&void 0===e.default,u=void 0===(c=e.type)?"Any":"string"===typeof c?c:JSON.stringify(c);return Object(m.jsxs)("div",{style:{display:"table-row"},children:[Object(m.jsx)("label",{style:{textAlign:"right",display:"table-cell",whiteSpace:"nowrap"},children:Object(m.jsxs)("span",{children:[n," (",Object(m.jsx)("span",{style:{textOverflow:"ellipsis",overflow:"hidden",maxWidth:"90px",display:"inline-block",verticalAlign:"bottom"},title:u,children:u}),")"]})}),Object(m.jsx)("input",{style:{display:"table-cell"},placeholder:a,required:s,value:null!==(t=r)&&void 0!==t?t:"",pattern:void e.type,onChange:function(e){p[n]=e.target.value,l(Object(i.a)({},p))}}),Object(m.jsx)("div",{style:{display:"table-cell"},children:Object(m.jsx)("button",{type:"button",title:"Reset to default",onClick:function(e){delete p[n],l(Object(i.a)({},p))},disabled:!(n in p),children:"\u2327"})})]},n)}))}),Object(m.jsx)("button",{type:"button",onClick:r,children:"Close"}),Object(m.jsx)("button",{type:"button",onClick:function(e){null===a||void 0===a||a(p),null===r||void 0===r||r()},children:"Apply"})]})},v=u.f.Top,h=u.f.Bottom,j=function(e){return"task"===e.type&&void 0!==e.data&&"taskSpec"in e.data};function g(e,t,n,r,a){for(var o=[],i=e.length,s=0;s<i;s++){var p,l,d=e[s],f=r+d.name,b=String(100*((s+1)/(i+1)))+"%",v=n===u.f.Top||n===u.f.Bottom?{left:b}:{top:b},h=null!==(p=null===(l=d.type)||void 0===l?void 0:l.toString())&&void 0!==p?p:"Any",j=["handle_".concat(r).concat(h).replace(" ","_")];(null!==a&&void 0!==a?a:[]).includes(d.name)&&j.push("missing-argument"),j=j.map((function(e){return e.replace(" ","_")}));var g=O(n,i),x=Object(c.a)(g,2),y=x[0],w=x[1];o.push(Object(m.jsx)(u.d,{type:t,position:n,id:f,style:v,isConnectable:!0,title:d.name+" : "+h,className:j.join(" "),children:Object(m.jsx)("div",{className:y,style:w,children:d.name})},f))}return o}function O(e,t){var n=180,r="label";return e===u.f.Top||e===u.f.Bottom?(t>1&&(n=180/(t+1)),n<35&&(n=50,r+=" label-angled")):n=60,[r,{maxWidth:"".concat(n,"px")}]}var x=function(e){var t,n,r,a,o=e.data,i=Object(s.useState)(!1),u=Object(c.a)(i,2),p=u[0],l=u[1],d=o.taskSpec,f=d.componentRef.spec;if(void 0===f)return Object(m.jsx)(m.Fragment,{});var j=null!==(t=f.name)&&void 0!==t?t:"<component>",O=(null!==(n=f.inputs)&&void 0!==n?n:[]).filter((function(e){var t;return!0!==e.optional&&void 0===e.default&&!(e.name in(null!==(t=d.arguments)&&void 0!==t?t:{}))})).map((function(e){return e.name})),x=function(e,t){return g(e,"target",v,"input_",t)}(null!==(r=f.inputs)&&void 0!==r?r:[],O),y=g(null!==(a=f.outputs)&&void 0!==a?a:[],"source",h,"output_"),w=x.concat(y);return Object(m.jsxs)("div",{onDoubleClick:function(){l(!p)},title:o.taskId,children:[j,w,p&&Object(m.jsx)(b,{taskSpec:d,closeEditor:function(){l(!1)},setArguments:o.setArguments})]})},y=["name","description","metadata","inputs","outputs","implementation"],w=["children","componentSpec","setComponentSpec"],k="https://cloud-pipelines.github.io/pipeline-editor/",S=function(e,t){var n,r,s,u=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];e=Object(i.a)({},e);var d=function(e){return JSON.stringify({x:e.__rf.position.x,y:e.__rf.position.y,width:e.__rf.width,height:e.__rf.height})},f=function(e,t){var n=e.__rf.position.x-t.__rf.position.x,r=e.__rf.position.y-t.__rf.position.y;return 0!==n?n:r},m=function(e,t){var n=e.__rf.position.x-t.__rf.position.x,r=e.__rf.position.y-t.__rf.position.y;return 0!==r?r:n},b=t.filter((function(e){return"input"===e.type})).sort(f),v=t.filter((function(e){return"output"===e.type})).sort(f),h=t.filter(j).sort(m),g=new Map(b.map((function(e){return[e.id,d(e)]}))),O=new Map(b.map((function(e,t){return[e.id,t]}))),x=function(e,t){var n,r;return(null!==(n=O.get(e.name))&&void 0!==n?n:1/0)-(null!==(r=O.get(t.name))&&void 0!==r?r:1/0)},w=new Map(v.map((function(e){return[e.id,d(e)]}))),S=new Map(v.map((function(e,t){return[e.id,t]}))),_=function(e,t){var n,r;return(null!==(n=S.get(e.name))&&void 0!==n?n:1/0)-(null!==(r=S.get(t.name))&&void 0!==r?r:1/0)},C=new Map(h.map((function(e){return[e.id,d(e)]}))),I=new Map(h.map((function(e,t){return[e.id,t]}))),A=function(e,t){var n,r;return(null!==(n=I.get(e[0]))&&void 0!==n?n:1/0)-(null!==(r=I.get(t[0]))&&void 0!==r?r:1/0)};if(e.inputs=null===(n=e.inputs)||void 0===n?void 0:n.map((function(e){if(!g.has(e.name)||!O.has(e.name))throw Error("The nodes array does not have input node ".concat(e.name));var t=Object(i.a)({},e.annotations);l?t["editor.position"]=g.get(e.name):delete t["editor.position"];var n=Object(i.a)(Object(i.a)({},e),{},{annotations:t});return 0===Object.keys(t).length&&delete n.annotations,n})).sort(x),e.outputs=null===(r=e.outputs)||void 0===r?void 0:r.map((function(e){if(!w.has(e.name)||!S.has(e.name))throw Error("The nodes array does not have output node ".concat(e.name));var t=Object(i.a)({},e.annotations);l?t["editor.position"]=w.get(e.name):delete t["editor.position"];var n=Object(i.a)(Object(i.a)({},e),{},{annotations:t});return void 0!==t&&0!==Object.keys(t).length||delete n.annotations,n})).sort(_),!Object(p.b)(e.implementation))return e;var E=Object(i.a)({},e.implementation.graph),T=Object.fromEntries(Object.entries(E.tasks||{}).map((function(e){var t=Object(c.a)(e,2),n=t[0],r=t[1];if(!C.has(n)||!I.has(n))throw Error("The nodes array does not have task node ".concat(n));var a=Object(i.a)({},r.annotations);l?a["editor.position"]=C.get(n):delete a["editor.position"];var o=Object(i.a)(Object(i.a)({},r),{},{annotations:a});return void 0!==a&&0!==Object.keys(a).length||delete o.annotations,u||void 0===o.componentRef.spec||void 0===o.componentRef.url||(o.componentRef=Object(i.a)({},o.componentRef),delete o.componentRef.spec),[n,o]})).sort(A));void 0!==T&&(E.tasks=T),e=Object(i.a)(Object(i.a)({},e),{},{implementation:Object(i.a)(Object(i.a)({},e.implementation),{},{graph:E})});var N=function(e){var t=e.name,n=e.description,r=e.metadata,o=e.inputs,c=e.outputs,s=e.implementation,u=Object(a.a)(e,y);return Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},t&&{name:t}),n&&{description:n}),r&&{metadata:r}),o&&{inputs:o}),c&&{outputs:c}),{},{implementation:s},u)};return e=N(e=Object(i.a)(Object(i.a)({},e),{},{metadata:Object(i.a)(Object(i.a)({},e.metadata),{},{annotations:Object(i.a)(Object(i.a)({},null===(s=e.metadata)||void 0===s?void 0:s.annotations),{},Object(o.a)({},"sdk",k))})}))},_={task:Object(s.memo)(x)};t.b=function(e){var t,n,o,p=e.children,l=e.componentSpec,d=void 0===l?{implementation:{graph:{tasks:{}}}}:l,f=e.setComponentSpec,b=Object(a.a)(e,w),v=Object(s.useState)(),h=Object(c.a)(v,2),j=h[0],g=h[1];if(!("graph"in d.implementation))return Object(m.jsx)(m.Fragment,{});var O=d.implementation.graph,x=Object.entries(O.tasks).map((function(e){var t=Object(c.a)(e,2),n=t[0],r=t[1],a={x:0,y:0};if(void 0!==r.annotations)try{var o=r.annotations["editor.position"],i=JSON.parse(o);a={x:i.x,y:i.y}}catch(s){}return{id:n,data:{taskSpec:r,taskId:n,setArguments:function(e){return T(n,e)}},position:a,type:"task"}})),y=(null!==(t=d.inputs)&&void 0!==t?t:[]).map((function(e){var t={x:0,y:0};if(void 0!==e.annotations)try{var n=e.annotations["editor.position"],r=JSON.parse(n);t={x:r.x,y:r.y}}catch(a){}return{id:e.name,data:{label:e.name},position:t,type:"input"}})),k=(null!==(n=d.outputs)&&void 0!==n?n:[]).map((function(e){var t={x:0,y:0};if(void 0!==e.annotations)try{var n=e.annotations["editor.position"],r=JSON.parse(n);t={x:r.x,y:r.y}}catch(a){}return{id:e.name,data:{label:e.name},position:t,type:"output"}})),S=Object.entries(O.tasks).flatMap((function(e){var t,n=Object(c.a)(e,2),r=n[0],a=n[1];return Object.entries(null!==(t=a.arguments)&&void 0!==t?t:{}).flatMap((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];if("string"===typeof a)return[];if("taskOutput"in a){var o=a.taskOutput;return[{id:"".concat(o.taskId,"_").concat(o.outputName,"-").concat(r,"_").concat(n),source:o.taskId,sourceHandle:"output_".concat(o.outputName),target:r,targetHandle:"input_".concat(n),arrowHeadType:u.a.ArrowClosed}]}if("graphInput"in a){var i=a.graphInput;return[{id:"Input_".concat(i.inputName,"-").concat(r,"_").concat(n),source:i.inputName,sourceHandle:null,target:r,targetHandle:"input_".concat(n),arrowHeadType:u.a.ArrowClosed}]}return console.error("Impossible task input argument kind: ",a),[]}))})),C=Object.entries(null!==(o=O.outputValues)&&void 0!==o?o:{}).map((function(e){var t=Object(c.a)(e,2),n=t[0],r=t[1].taskOutput;return{id:"".concat(r.taskId,"_").concat(r.outputName,"-Output_").concat(n),source:r.taskId,sourceHandle:"output_".concat(r.outputName),target:n,targetHandle:null,arrowHeadType:u.a.ArrowClosed}})),I=x.concat(y).concat(k).concat(S).concat(C),A=function(e){d=e,f(e)},E=function(e){O=e,A(Object(i.a)(Object(i.a)({},d),{},{implementation:{graph:O}}))},T=function(e,t){var n=Object(i.a)(Object(i.a)({},O),{},{tasks:Object(i.a)({},O.tasks)});n.tasks[e]=Object(i.a)(Object(i.a)({},O.tasks[e]),{},{arguments:t}),E(n)},N=function(e,t,n){var r=O.tasks[e].arguments,a=Object(i.a)({},r);void 0===n?delete a[t]:a[t]=n,T(e,a)},R=function(e,t){return N(e,t,void 0)},L=function(e,t){var n=Object(i.a)({},O.outputValues);void 0===t?delete n[e]:n[e]=t,O=Object(i.a)(Object(i.a)({},O),{},{outputValues:n}),E(O)},D=function(e){return L(e)},P=function(e){var t,n;if(null!==e.source&&null!==e.target){var r=null===(t=e.targetHandle)||void 0===t?void 0:t.replace(/^input_/,""),a=null===(n=e.sourceHandle)||void 0===n?void 0:n.replace(/^output_/,"");if(void 0!==a){var o={taskOutput:{taskId:e.source,outputName:a}};void 0!==r?N(e.target,r,o):L(e.target,o)}else{var c={graphInput:{inputName:e.source}};void 0!==r?N(e.target,r,c):console.error("addConnection: Cannot directly connect graph input to graph output: ",e)}}else console.error("addConnection called with missing source or target: ",e)},G=function(e){var t,n=null===(t=e.targetHandle)||void 0===t?void 0:t.replace(/^input_/,"");void 0!==n?R(e.target,n):D(e.target)},U=function(e){if("input"===e.type)!function(e){for(var t,n=0,r=Object.entries(O.tasks);n<r.length;n++)for(var a=Object(c.a)(r[n],2),o=a[0],s=a[1],u=0,p=Object.entries(null!==(l=s.arguments)&&void 0!==l?l:{});u<p.length;u++){var l,f=Object(c.a)(p[u],2),m=f[0],b=f[1];"string"!==typeof b&&"graphInput"in b&&b.graphInput.inputName===m&&R(o,m)}var v=(null!==(t=d.inputs)&&void 0!==t?t:[]).filter((function(t){return t.name!==e}));d=Object(i.a)(Object(i.a)({},d),{},{inputs:v}),A(d)}(e.id);else if("output"===e.type){!function(e){var t;D(e);var n=(null!==(t=d.outputs)&&void 0!==t?t:[]).filter((function(t){return t.name!==e}));d=Object(i.a)(Object(i.a)({},d),{},{outputs:n}),A(d)}(e.id)}else if("task"===e.type){!function(e){for(var t,n=0,r=Object.entries(O.tasks);n<r.length;n++)for(var a=Object(c.a)(r[n],2),o=a[0],s=a[1],u=0,p=Object.entries(null!==(l=s.arguments)&&void 0!==l?l:{});u<p.length;u++){var l,d=Object(c.a)(p[u],2),f=d[0],m=d[1];"string"!==typeof m&&"taskOutput"in m&&m.taskOutput.taskId===o&&R(o,f)}var b=Object.fromEntries(Object.entries(null!==(t=O.outputValues)&&void 0!==t?t:{}).filter((function(t){var n=Object(c.a)(t,2);return n[0],n[1].taskOutput.taskId!==e})));O=Object(i.a)(Object(i.a)({},O),{},{outputValues:b});var v=Object(i.a)(Object(i.a)({},O),{},{tasks:Object(i.a)({},O.tasks)});delete v.tasks[e],E(v)}(e.id)}else console.log("removeNode: Unexpected note type: ",e)},M=function(e,t){for(var n=e,r=1;t.has(n);)n=e+" "+(++r).toString();return n};return Object(m.jsx)(u.h,Object(i.a)(Object(i.a)({},b),{},{elements:I,nodeTypes:_,onConnect:function(e){P(e)},onDragOver:function(e){e.preventDefault(),e.dataTransfer.dropEffect="move"},onDrop:function(e){if(e.preventDefault(),j){var t=e.dataTransfer.getData("application/reactflow");if(""===t)return;var n=JSON.parse(t),r=Object.keys(n)[0],a=n[r],o=0,c=0,s=e.dataTransfer.getData("DragStart.offset");if(""!==s){var u,p,l=JSON.parse(s);o=null!==(u=.68*l.offsetX)&&void 0!==u?u:0,c=null!==(p=.64*l.offsetY)&&void 0!==p?p:0}var f=j.project({x:e.clientX-o,y:e.clientY-c}),m={x:f.x,y:f.y},b={"editor.position":JSON.stringify(m)};if("task"===r){var v,h,g=a,x=Object(i.a)(Object(i.a)({},g.annotations),b);g.annotations=x;var y=Object(i.a)(Object(i.a)({},g),{},{annotations:x}),w=function(){return M(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Task",new Set(Object.keys(O.tasks)))}(null!==(v=null===(h=g.componentRef.spec)||void 0===h?void 0:h.name)&&void 0!==v?v:"Task");(O=Object(i.a)(Object(i.a)({},O),{},{tasks:Object(i.a)({},O.tasks)})).tasks[w]=y,E(O)}else if("input"===r){var k,S={name:function(){var e;return M(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Input",new Set(null===(e=d.inputs)||void 0===e?void 0:e.map((function(e){return e.name}))))}(),annotations:b},_=(null!==(k=d.inputs)&&void 0!==k?k:[]).concat([S]);d=Object(i.a)(Object(i.a)({},d),{},{inputs:_}),A(d)}else if("output"===r){var C,I={name:function(){var e;return M(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Output",new Set(null===(e=d.outputs)||void 0===e?void 0:e.map((function(e){return e.name}))))}(),annotations:b},T=(null!==(C=d.outputs)&&void 0!==C?C:[]).concat([I]);d=Object(i.a)(Object(i.a)({},d),{},{outputs:T}),A(d)}}},onEdgeUpdate:function(e,t){G(e),P(t)},onElementsRemove:function(e){var t,n=Object(r.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;Object(u.i)(a)&&G(a)}}catch(s){n.e(s)}finally{n.f()}var o,c=Object(r.a)(e);try{for(c.s();!(o=c.n()).done;){var i=o.value;Object(u.j)(i)&&U(i)}}catch(s){c.e(s)}finally{c.f()}},onLoad:function(e){return g(e)},children:p}))}},14:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=function(e){return"implementation"in e},a=function(e){return"container"in e},o=function(e){return"graph"in e}},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return T}));var r=n(15),a=n(3),o=n.n(a),c=n(5),i=n(29),s=n(30),u=n(46),p=n(10),l=n.n(p),d=n(8),f=n.n(d),m="https://api.github.com/search",b="raw.githubusercontent.com/.../component.yaml",v="components",h="hash_to_data",j="hash_to_component_name",g="url_to_hash",O="hash_to_url",x="url_version",y="bad_hashes",w=function(){var e=Object(c.a)(o.a.mark((function e(t,n){var r,a,c,i,s=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],e.next=3,caches.open(n);case 3:return a=e.sent,e.next=6,a.match(t);case 6:if(void 0===(c=e.sent)){e.next=10;break}return r&&a.add(t),e.abrupt("return",c);case 10:return e.next=12,a.add(t);case 12:return e.next=14,a.match(t);case 14:if(void 0!==(i=e.sent)){e.next=17;break}return e.abrupt("return",Promise.reject("Added object to cache, but could not find it"));case 17:return e.abrupt("return",i);case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(c.a)(o.a.mark((function e(t){var n,r,a,c,i,s,u,p,l=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:1,r=l.length>2&&void 0!==l[2]?l[2]:"indexed",a=l.length>3&&void 0!==l[3]?l[3]:"desc",c=encodeURIComponent(t),i=encodeURIComponent(r),s=encodeURIComponent(a),u="https://api.github.com/search/code?q=".concat(c,"&sort=").concat(i,"&order=").concat(s,"&per_page=100&page=").concat(n),e.next=9,w(u,m,!0);case 9:return p=e.sent,e.abrupt("return",p.json());case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e){return e.replace("https://github.com/","https://raw.githubusercontent.com/").replace("/blob/","/")};function _(){return C.apply(this,arguments)}function C(){return(C=Object(u.a)(o.a.mark((function e(){var t,n,a,c,i,u,p,l,d,f=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=f.length>0&&void 0!==f[0]?f[0]:["kubeflow","Ark-kun"],n=[],a="filename:component.yaml "+t.map((function(e){return"user:"+e})).join(" "),c=1;case 4:if(!(c<100)){e.next=33;break}return e.next=7,Object(s.a)(k(a,c));case 7:if(i=e.sent,0!==(u=i.items).length){e.next=11;break}return e.abrupt("break",33);case 11:p=Object(r.a)(u),e.prev=12,p.s();case 14:if((l=p.n()).done){e.next=20;break}return d=l.value,e.next=18,{url:S(d.html_url),hash:d.sha};case 18:e.next=14;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(12),p.e(e.t0);case 25:return e.prev=25,p.f(),e.finish(25);case 28:return e.next=30,Object(s.a)(new Promise((function(e){return setTimeout(e,6e3*1.1)})));case 30:c++,e.next=4;break;case 33:return e.abrupt("return",n);case 34:case"end":return e.stop()}}),e,null,[[12,22,25,28]])})))).apply(this,arguments)}var I=function(){var e=Object(c.a)(o.a.mark((function e(t){var n,r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t,b);case 2:return n=e.sent,e.next=5,n.blob();case 5:return r=e.sent,e.next=8,r.text();case 8:return a=e.sent,c=l.a.load(a),e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(c.a)(o.a.mark((function e(){var t,n,r,a,c,s,u,p,d,m,k,C,I,A,E,T,N,R,L,D,P,G,U,M,F,W=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=W.length>0&&void 0!==W[0]?W[0]:["kubeflow","Ark-kun"],console.debug("Starting cacheAllComponents"),n=_(t),r=f.a.createInstance({name:v,storeName:g}),a=f.a.createInstance({name:v,storeName:O}),c=f.a.createInstance({name:v,storeName:h}),s=f.a.createInstance({name:v,storeName:j}),u=f.a.createInstance({name:v,storeName:x}),p=f.a.createInstance({name:v,storeName:y}),d=!0,m=!1,e.prev=11,C=Object(i.a)(n);case 13:return e.next=15,C.next();case 15:return I=e.sent,d=I.done,e.next=19,I.value;case 19:if(A=e.sent,d){e.next=90;break}return T=(E=A).hash.toLowerCase(),N=E.url,e.next=26,p.getItem(T);case 26:if(null===(R=e.sent)){e.next=30;break}return console.debug("Skipping url ".concat(N," with hash ").concat(T,' due to error: "').concat(R,'"')),e.abrupt("continue",87);case 30:if(e.prev=30,(L=S(N)).endsWith("component.yaml")){e.next=35;break}return console.debug("Skipping url ".concat(L,' since it does not end with "component.yaml"')),e.abrupt("continue",87);case 35:return e.next=37,r.getItem(L);case 37:return null!==(D=e.sent)&&D!==T&&console.error("Component cache is broken. Stored hash for ".concat(L,": ").concat(D," != ").concat(T,".")),e.next=41,u.getItem(L);case 41:if(P=e.sent,!(null!==D&&null!==P&&Number.parseInt(P)>=1)){e.next=44;break}return e.abrupt("continue",87);case 44:return console.debug("Processing new component candidate: ".concat(L,".")),e.next=47,w(L,b);case 47:return G=e.sent,U=void 0,M=void 0,e.prev=50,e.next=53,G.blob();case 53:return F=e.sent,e.next=56,F.text();case 56:M=e.sent,U=l.a.load(M),e.next=64;break;case 60:return e.prev=60,e.t0=e.catch(50),p.setItem(T,e.t0.name+": "+e.t0.message),e.abrupt("continue",87);case 64:if(void 0!==U.implementation){e.next=67;break}return p.setItem(T,'Component lacks the "implementation" section.'),e.abrupt("continue",87);case 67:return e.next=69,c.setItem(T,M);case 69:return e.next=71,a.getItem(T);case 71:if(null!==e.sent){e.next=75;break}return e.next=75,a.setItem(T,L);case 75:if(!U.name){e.next=78;break}return e.next=78,s.setItem(T,U.name);case 78:return e.next=80,r.setItem(L,T);case 80:return e.next=82,u.setItem(L,1);case 82:e.next=87;break;case 84:e.prev=84,e.t1=e.catch(30),console.error("Error when processing component candidate ".concat(N," Error: ").concat(e.t1,"."));case 87:d=!0,e.next=13;break;case 90:e.next=96;break;case 92:e.prev=92,e.t2=e.catch(11),m=!0,k=e.t2;case 96:if(e.prev=96,e.prev=97,d||null==C.return){e.next=101;break}return e.next=101,C.return();case 101:if(e.prev=101,!m){e.next=104;break}throw k;case 104:return e.finish(101);case 105:return e.finish(96);case 106:console.debug("Finished cacheAllComponents");case 107:case"end":return e.stop()}}),e,null,[[11,92,96,106],[30,84],[50,60],[97,,101,105]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(c.a)(o.a.mark((function e(){var t,n,r,a,c,i,s=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:["kubeflow","Ark-kun"],n=f.a.createInstance({name:v,storeName:O}),r=f.a.createInstance({name:v,storeName:h}),a=new Map,c=A(t),console.debug("getAllComponentsAsRefs: Started async cacheAllComponents"),e.next=8,r.length();case 8:if(e.t0=e.sent,0!==e.t0){e.next=13;break}return console.debug("getAllComponentsAsRefs: Before await cachePromise"),e.next=13,c;case 13:return console.debug("getAllComponentsAsRefs: After"),e.next=16,r.iterate((function(e,t,n){try{var r=l.a.load(e);a.set(t,{spec:r})}catch(o){console.error("Error when parsing cached component. Hash: ".concat(t,". Error: ").concat(o,". Component text: ").concat(e))}}));case 16:return e.next=18,n.iterate((function(e,t,n){var r=a.get(t);void 0===r?console.error("Component db corrupted: Component with url ".concat(e," and hash ").concat(t," has no content in the DB.")):r.url=e}));case 18:return i=[],a.forEach((function(e,t){void 0===e.url?console.error("Component db corrupted: Component with hash ".concat(t," has content, but no URL in the DB.")):i.push(e)})),e.abrupt("return",i);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(c.a)(o.a.mark((function e(t){var n,r,a=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:["kubeflow","Ark-kun"],e.next=3,E(n);case 3:return r=e.sent,e.abrupt("return",r.filter((function(e){var n,r,a;return null!==(n=null===(r=e.spec)||void 0===r||null===(a=r.name)||void 0===a?void 0:a.toLowerCase().includes(t.toLowerCase()))&&void 0!==n&&n})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},19:function(e,t,n){"use strict";var r=n(1);t.a=function(e){var t,n,a=e.componentReference;return Object(r.jsx)("div",{className:"react-flow__node react-flow__node-task",draggable:!0,onDragStart:function(e){return function(e,t){e.dataTransfer.setData("application/reactflow",JSON.stringify(t)),e.dataTransfer.setData("DragStart.offset",JSON.stringify({offsetX:e.nativeEvent.offsetX,offsetY:e.nativeEvent.offsetY})),e.dataTransfer.effectAllowed="move"}(e,{task:{componentRef:a}})},children:null!==(t=null===(n=a.spec)||void 0===n?void 0:n.name)&&void 0!==t?t:"Component"})}},26:function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return w}));var r,a,o=n(4),c=n(2),i=n(11),s=n(14);!function(e){e.PRIMITIVE_TYPE_UNSPECIFIED="PRIMITIVE_TYPE_UNSPECIFIED",e.INT="INT",e.DOUBLE="DOUBLE",e.STRING="STRING"}(r||(r={})),function(e){e.TRIGGER_STRATEGY_UNSPECIFIED="TRIGGER_STRATEGY_UNSPECIFIED",e.ALL_UPSTREAM_TASKS_SUCCEEDED="ALL_UPSTREAM_TASKS_SUCCEEDED",e.ALL_UPSTREAM_TASKS_COMPLETED="ALL_UPSTREAM_TASKS_COMPLETED"}(a||(a={}));var u=function(e){return e.toLowerCase().replace(/\W/,"-")},p=function(e,t){var n,r;if(!Object(s.a)(e.implementation))throw Error("resolveCommandLine only supports container components");var a=e.implementation.container,o=new Set,c=new Set,i=function e(n){if("string"==typeof n)return[n];if("inputValue"in n){var r=n.inputValue,a=t[r];return void 0!==a&&"string"!=typeof a&&"taskOutput"in a?(c.add(r),["{{$.inputs.artifacts['".concat(r,"'].value}}")]):(o.add(r),["{{$.inputs.parameters['".concat(r,"']}}")])}if("inputPath"in n){var i=n.inputPath;return c.add(i),["{{$.inputs.artifacts['".concat(i,"'].path}}")]}if("outputPath"in n){var s=n.outputPath;return["{{$.outputs.artifacts['".concat(s,"'].path}}")]}if("if"in n){var u=[n.if.cond,n.if.then,n.if.else],p=u[0],l=u[1],d=u[2],f=!1;if("string"===typeof p)f="true"===p.toLowerCase();else if("boolean"===typeof p)f=p;else if("isPresent"in p){f=p.isPresent in t}else{if(!("inputValue"in p))throw Error("Unexpected condition kind: "+p);var m=p.inputValue;if(m in t){var b=t[m];if("string"!==typeof b)throw Error("Using runtime conditions in component command line placeholders is not supported yet.");f="true"===b.toLowerCase()}else f=!1}var v=f?l:d;return void 0===v?[]:v.flatMap(e)}if("concat"in n)return n.concat.flatMap(e);throw Error("Unknown kind of command-line argument: ".concat(n))};return{command:null===(n=a.command)||void 0===n?void 0:n.flatMap(i),args:null===(r=a.args)||void 0===r?void 0:r.flatMap(i),inputsConsumedAsValue:o,inputsConsumedAsPath:c}},l=function(e){if("string"===typeof e){if(["integer"].includes(e.toLowerCase()))return r.INT;if(["float","double"].includes(e.toLowerCase()))return r.DOUBLE}return r.STRING},d=function(e){return{type:l(e)}},f="_make_artifact",m="_make_artifact",b="parameter",v="artifact",h={componentRef:{name:f},taskInfo:{name:"Make artifact"},inputs:{parameters:{}},cachingOptions:{enableCache:!0}},j={executorLabel:m,inputDefinitions:{parameters:Object(i.a)({},b,{type:r.STRING})},outputDefinitions:{artifacts:Object(i.a)({},v,{artifactType:{schemaTitle:"system.Artifact"}})}},g={container:{image:"alpine",command:["sh","-ec",'mkdir -p "$(dirname "$1")"; printf "%s" "$0" > "$1"',"{{$.inputs.parameters['".concat(b,"']}}"),"{{$.outputs.artifacts['".concat(v,"'].path}}")]}},O=function(e,t,n){var r,a,o,u=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Object(s.a)(e.implementation))throw Error("Nested graph components are not supported yet");var l=e.implementation.container,f=p(e,t),m={container:{image:l.image,command:f.command,args:f.args}},j=new Map((null!==(r=e.inputs)&&void 0!==r?r:[]).map((function(e){return[e.name,e]}))),g={parameters:Object.fromEntries(Array.from(f.inputsConsumedAsValue.values()).map((function(e){var t;return[e,d(null===(t=j.get(e))||void 0===t?void 0:t.type)]}))),artifacts:Object.fromEntries(Array.from(f.inputsConsumedAsPath.values()).map((function(e){var t;return[e,(null===(t=j.get(e))||void 0===t||t.type,{artifactType:{schemaTitle:"system.Artifact"}})]})))},O={parameters:{},artifacts:Object.fromEntries((null!==(a=e.outputs)&&void 0!==a?a:[]).map((function(e){return[e.name,(e.type,{artifactType:{schemaTitle:"system.Artifact"}})]})))},x={inputDefinitions:g,outputDefinitions:O,executorLabel:"<set later>"},y=Object.fromEntries(Array.from(f.inputsConsumedAsValue.values()).map((function(e){return[e,function(e){var n=t[e];if(void 0===n){var r=j.get(e);if(void 0===r)throw Error("Cannot happen: vertexTaskParameterArguments - inputMap.get(".concat(e,") === undefined"));if(void 0!==r.default)n=r.default;else{if(!0!==r.optional)throw Error('Argument was not provided for required input "'.concat(e,'"'));console.error('Input "'.concat(e,"\" is optional, but command-line still uses it when when it's not present.")),n=""}}if("string"===typeof n)return{runtimeValue:{constantValue:{stringValue:n}}};if("graphInput"in n)return{componentInputParameter:n.graphInput.inputName};if("taskOutput"in n)return{taskOutputParameter:{producerTask:n.taskOutput.taskId,outputParameterKey:n.taskOutput.outputName}};throw Error('Unknown kind of task argument: "'.concat(n,'"'))}(e)]}))),w={},k=Object.fromEntries(Array.from(f.inputsConsumedAsPath.values()).map((function(e){return[e,function(e){var r,a=t[e];if(void 0===a){var o=j.get(e);if(void 0===o)throw Error("Cannot happen: vertexTaskParameterArguments - inputMap.get(".concat(e,") === undefined"));if(void 0!==o.default)a=o.default;else{if(!0!==o.optional)throw Error('Argument was not provided for required input "'.concat(e,'"'));console.error('Input "'.concat(e,"\" is optional, but command-line still uses it when when it's not present.")),a=""}}if("string"===typeof a){var s=n("Make artifact"),p=Object(c.a)(Object(c.a)({},h),{},{inputs:{parameters:Object(i.a)({},b,{runtimeValue:{constantValue:{stringValue:a}}})}});return w[s]=p,r={taskOutputArtifact:{producerTask:s,outputArtifactKey:v}}}if("graphInput"in a){if(u){var l="Make artifact for "+a.graphInput.inputName,d=Object(c.a)(Object(c.a)({},h),{},{inputs:{parameters:Object(i.a)({},b,{componentInputParameter:a.graphInput.inputName})}});w[l]=d,r={taskOutputArtifact:{producerTask:l,outputArtifactKey:v}}}else r={componentInputArtifact:a.graphInput.inputName};return r}if("taskOutput"in a)return r={taskOutputArtifact:{producerTask:a.taskOutput.taskId,outputArtifactKey:a.taskOutput.outputName}};throw Error('Unknown kind of task argument: "'.concat(a,'"'))}(e)]}))),S={taskInfo:{name:null!==(o=e.name)&&void 0!==o?o:"Component"},inputs:{parameters:y,artifacts:k},cachingOptions:{enableCache:!0},componentRef:{name:"<set later>"}};return{vertexTaskSpec:S,vertexComponentSpec:x,vertexExecutorSpec:m,vertexMakeArtifactTaskSpecs:w}},x=function(e,t){for(var n=e,r=1;t.has(n);)n=e+" "+(++r).toString();return n},y=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pipeline";if(!Object(s.b)(e.implementation))throw Error("Only graph components are supported for now");for(var r={parameters:Object.fromEntries((null!==(t=e.inputs)&&void 0!==t?t:[]).map((function(e){return[e.name,d(e.type)]})))},a=e.implementation.graph,c={},i={},p={},l=new Set(Object.keys(a.tasks)),f=function(e){var t=x(e,l);return l.add(t),t},m=0,b=Object.entries(a.tasks);m<b.length;m++){var v=Object(o.a)(b[m],2),h=v[0],y=v[1];if(void 0===y.componentRef.spec)throw Error('Task "'.concat(h,'" does not have taskSpec.componentRef.spec.'));try{var w,k=O(y.componentRef.spec,null!==(w=y.arguments)&&void 0!==w?w:{},f,!0),S=k.vertexTaskSpec,_=k.vertexComponentSpec,C=k.vertexExecutorSpec,I=k.vertexMakeArtifactTaskSpecs,A=h+"_executor",E=h+"_component",T=h;l.add(T),c[A]=C,_.executorLabel=A,i[E]=_,S.componentRef.name=E,p[T]=S;for(var N=0,R=Object.entries(I);N<R.length;N++){var L=Object(o.a)(R[N],2),D=L[0],P=L[1];l.add(D),c._make_artifact=g,i._make_artifact=j,p[D]=P}}catch(U){throw Error("Error compiling task ".concat(h,": ")+U.toString())}}var G={pipelineInfo:{name:u(n)},sdkVersion:"Cloud-Pipelines",schemaVersion:"2.0.0",deploymentSpec:{executors:c},components:i,root:{inputDefinitions:r,dag:{tasks:p}}};return G},w=function(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"pipeline",c={};if(void 0!==n)for(var i=0,s=Array.from(n.entries());i<s.length;i++){var u=Object(o.a)(s[i],2),p=u[0],l=u[1];c[p]={stringValue:l}}var d=y(e,a),f={displayName:null!==(r=e.name)&&void 0!==r?r:"Pipeline",runtimeConfig:{parameters:c,gcsOutputDirectory:t},pipelineSpec:d};return f}},35:function(e,t,n){"use strict";(function(e){var r=n(36),a=n(37),o=n(38),c=n(39),i=n(40),s=n(12),u=n(41),p=n(45),l=n(43),d=n(1),f=function(e,t){e.dataTransfer.setData("application/reactflow",JSON.stringify(t)),e.dataTransfer.setData("DragStart.offset",JSON.stringify({offsetX:e.nativeEvent.offsetX,offsetY:e.nativeEvent.offsetY})),e.dataTransfer.effectAllowed="move"},m=[{category:"Quick start",componentUrls:["https://raw.githubusercontent.com/Ark-kun/pipelines/2463ecda532517462590d75e6e14a8af6b55869a/components/datasets/Chicago_Taxi_Trips/component.yaml","https://raw.githubusercontent.com/Ark-kun/pipelines/567c04c51ff00a1ee525b3458425b17adbe3df61/components/XGBoost/Train/component.yaml","https://raw.githubusercontent.com/Ark-kun/pipelines/567c04c51ff00a1ee525b3458425b17adbe3df61/components/XGBoost/Predict/component.yaml"]},{category:"Datasets",componentUrls:["https://raw.githubusercontent.com/Ark-kun/pipelines/2463ecda532517462590d75e6e14a8af6b55869a/components/datasets/Chicago_Taxi_Trips/component.yaml"]},{category:"Data manipulation",componentUrls:["https://raw.githubusercontent.com/Ark-kun/pipelines/6162d55998b176b50267d351241100bb0ee715bc/components/pandas/Transform_DataFrame/in_CSV_format/component.yaml"]},{category:"Upload/Download",componentUrls:["https://raw.githubusercontent.com/Ark-kun/pipelines/54ac9a6a7173aecbbb30a043b2077e790cac6953/components/web/Download/component.yaml","https://raw.githubusercontent.com/Ark-kun/pipelines/2dac60c400ad8767b452649d08f328dfaf230f96/components/google-cloud/storage/download/component.yaml","https://raw.githubusercontent.com/Ark-kun/pipelines/2dac60c400ad8767b452649d08f328dfaf230f96/components/google-cloud/storage/upload_to_unique_uri/component.yaml","https://raw.githubusercontent.com/Ark-kun/pipelines/2dac60c400ad8767b452649d08f328dfaf230f96/components/google-cloud/storage/upload_to_explicit_uri/component.yaml"]},{category:"XGBoost",componentUrls:["https://raw.githubusercontent.com/Ark-kun/pipelines/567c04c51ff00a1ee525b3458425b17adbe3df61/components/XGBoost/Train/component.yaml","https://raw.githubusercontent.com/Ark-kun/pipelines/567c04c51ff00a1ee525b3458425b17adbe3df61/components/XGBoost/Predict/component.yaml"]},{category:"PyTorch",componentUrls:["https://raw.githubusercontent.com/Ark-kun/pipelines/4e1facea1a270535b515a9e8cc59422d1ad76a9e/components/PyTorch/Create_fully_connected_network/component.yaml","https://raw.githubusercontent.com/Ark-kun/pipelines/603342c4b88fe2d69ff07682f702cd3601e883bb/components/PyTorch/Train_PyTorch_model/from_CSV/component.yaml","https://raw.githubusercontent.com/Ark-kun/pipelines/e011e4affa85542ef2b24d63fdac27f8d939bbee/components/PyTorch/Convert_to_OnnxModel_from_PyTorchScriptModule/component.yaml"]},{category:"TFX",componentUrls:["https://raw.githubusercontent.com/kubeflow/pipelines/9b0d47a226c61f96e1ebe7a8ba427df38f8734e1/components/deprecated/tfx/ExampleGen/CsvExampleGen/component.yaml","https://raw.githubusercontent.com/kubeflow/pipelines/9b0d47a226c61f96e1ebe7a8ba427df38f8734e1/components/deprecated/tfx/StatisticsGen/component.yaml","https://raw.githubusercontent.com/kubeflow/pipelines/9b0d47a226c61f96e1ebe7a8ba427df38f8734e1/components/deprecated/tfx/SchemaGen/component.yaml","https://raw.githubusercontent.com/kubeflow/pipelines/9b0d47a226c61f96e1ebe7a8ba427df38f8734e1/components/deprecated/tfx/ExampleValidator/component.yaml","https://raw.githubusercontent.com/kubeflow/pipelines/9b0d47a226c61f96e1ebe7a8ba427df38f8734e1/components/deprecated/tfx/Transform/component.yaml","https://raw.githubusercontent.com/kubeflow/pipelines/9b0d47a226c61f96e1ebe7a8ba427df38f8734e1/components/deprecated/tfx/Trainer/component.yaml","https://raw.githubusercontent.com/kubeflow/pipelines/9b0d47a226c61f96e1ebe7a8ba427df38f8734e1/components/deprecated/tfx/Evaluator/component.yaml"]}];t.a=function(t){var n,b,v=t.componentSpec,h=t.setComponentSpec;return Object(d.jsxs)("aside",{className:"nodeList",children:[Object(d.jsxs)("details",{style:{border:"1px solid #aaa",borderRadius:"4px",padding:"4px"},children:[Object(d.jsx)("summary",{style:{borderWidth:"1px",padding:"4px",fontWeight:"bold"},children:"Save/Load pipeline"}),Object(d.jsx)("button",{type:"button",onClick:function(e){Object(s.e)(s.c).then(h)},children:"Load TFX pipeline"}),Object(d.jsx)("button",{type:"button",onClick:function(e){Object(s.e)(s.d).then(h)},children:"Load XGBoost pipeline"}),Object(d.jsx)("button",{type:"button",onClick:function(e){Object(s.e)(s.b).then(h)},children:"Load PyTorch pipeline"}),Object(d.jsxs)("div",{children:["Save as ",v&&Object(d.jsx)(u.a,{componentSpec:v})]})]}),Object(d.jsxs)("details",{style:{border:"1px solid #aaa",borderRadius:"4px",padding:"4px"},children:[Object(d.jsx)("summary",{style:{borderWidth:"1px",padding:"4px",fontWeight:"bold"},children:"Submit to Google Cloud"}),Object(d.jsx)(c.a,{componentSpec:v})]}),Object(d.jsx)("h3",{children:"Drag components to the canvas:"}),Object(d.jsxs)("details",{style:{border:"1px solid #aaa",borderRadius:"4px",padding:"4px"},children:[Object(d.jsx)("summary",{children:Object(d.jsx)("strong",{children:"Special"})}),Object(d.jsx)("div",{className:"react-flow__node react-flow__node-input",onDragStart:function(e){return f(e,{input:{label:"Input"}})},draggable:!0,children:"Input"}),Object(d.jsx)("div",{className:"react-flow__node react-flow__node-output",onDragStart:function(e){return f(e,{output:{label:"Output"}})},draggable:!0,children:"Output"})]}),Object(d.jsx)(r.a,{componentGroups:m}),Object(d.jsxs)("details",{style:{border:"1px solid #aaa",borderRadius:"4px",padding:"4px"},children:[Object(d.jsx)("summary",{style:{borderWidth:"1px",padding:"4px",fontWeight:"bold"},children:"User components"}),Object(d.jsx)(p.a,{})]}),Object(d.jsxs)("details",{open:!0,style:{border:"1px solid #aaa",borderRadius:"4px",padding:"4px"},children:[Object(d.jsx)("summary",{style:{borderWidth:"1px",padding:"4px",fontWeight:"bold"},children:"Component search"}),Object(d.jsx)(a.a,{})]}),Object(d.jsxs)("details",{children:[Object(d.jsx)("summary",{children:"Debug"}),v&&Object(d.jsx)(o.a,{componentSpec:v}),v&&Object(d.jsx)(i.a,{componentSpec:v}),Object(d.jsx)("button",{type:"button",onClick:function(e){Object(s.e)(s.a).then(h)},children:"Load Data Passing pipeline"}),"development"===(null===(n=e)||void 0===n||null===(b=Object({NODE_ENV:"production",PUBLIC_URL:"/pipeline-editor",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))||void 0===b?void 0:b.NODE_ENV)?Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(l.a,{componentSpec:v})}):void 0]})]})}}).call(this,n(80))},36:function(e,t,n){"use strict";var r=n(4),a=n(0),o=n(16),c=n(19),i=n(1),s=function(e){var t=e.componentUrl,n=Object(a.useState)(void 0),s=Object(r.a)(n,2),u=s[0],p=s[1];return Object(a.useEffect)((function(){Object(o.a)(t).then(p)}),[t]),void 0===u?Object(i.jsx)("span",{children:"Loading..."}):Object(i.jsx)(c.a,{componentReference:{url:t,spec:u}})},u=function(e){var t=e.componentGroups;return Object(i.jsx)(i.Fragment,{children:Array.from(t).map((function(e,t){var n=e.category,r=e.componentUrls;return Object(i.jsxs)("details",{open:0===t,style:{border:"1px solid #aaa",borderRadius:"4px"},children:[Object(i.jsx)("summary",{style:{borderWidth:"1px",padding:"8px"},children:Object(i.jsx)("strong",{children:n})}),r.map((function(e){return Object(i.jsx)(s,{componentUrl:e},e)}))]},n)}))})};t.a=function(e){var t=e.componentGroups;return Object(i.jsxs)("details",{open:!0,children:[Object(i.jsx)("summary",{style:{border:"1px solid #aaa",padding:"4px",borderRadius:"4px"},children:Object(i.jsx)("strong",{children:"Component library"})}),Object(i.jsx)("div",{style:{paddingLeft:"10px"},children:Object(i.jsx)(u,{componentGroups:t})})]})}},37:function(e,t,n){"use strict";var r=n(3),a=n.n(r),o=n(5),c=n(4),i=n(0),s=n(16),u=n(19),p=n(1),l=["kubeflow","Ark-kun"];t.a=function(e){var t=Object(i.useState)(void 0),n=Object(c.a)(t,2),r=n[0],d=n[1],f=Object(i.useState)(!0),m=Object(c.a)(f,2),b=m[0],v=m[1],h=Object(i.useState)(!1),j=Object(c.a)(h,2),g=j[0],O=j[1],x=Object(i.useState)(""),y=Object(c.a)(x,2),w=y[0],k=y[1],S=Object(i.useState)([]),_=Object(c.a)(S,2),C=_[0],I=_[1];function A(){return(A=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(s.b)(t,l).then((function(e){O(!0),I(e)}),(function(e){O(!0),d(e.message)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=Object(p.jsx)("span",{});if(b)E=Object(p.jsx)("div",{children:"Enter search query"});else if(void 0!==r)E=Object(p.jsxs)("div",{children:["Error: ",r]});else if(b||g){if(void 0!==C){var T=C.map((function(e){var t;return Object(p.jsx)(u.a,{componentReference:e},null!==(t=e.digest)&&void 0!==t?t:e.url)}));E=Object(p.jsx)(p.Fragment,{children:T})}}else E=Object(p.jsx)("div",{children:"Searching..."});return Object(p.jsxs)("div",{className:"nodeList",children:[Object(p.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),""!==w&&(v(!1),function(e){A.apply(this,arguments)}(w)),null===(t=window.dataLayer)||void 0===t||t.push({component:"ComponentSearch",event:"search query submitted"})},children:[Object(p.jsx)("input",{type:"search",placeholder:"XGBoost",onChange:function(e){k(e.target.value)}}),Object(p.jsx)("input",{type:"submit"})]}),Object(p.jsx)("div",{children:E})]})}},38:function(e,t,n){"use strict";var r=n(6),a=n(10),o=n.n(a),c=n(13),i=n(1);t.a=function(e){var t=e.componentSpec,n=Object(r.k)((function(e){return e.nodes})),a="";try{var s=Object(c.a)(t,n,!1,!0);a=o.a.dump(s,{lineWidth:1e4})}catch(l){a=String(l)}var u=new Blob([a],{type:"text/yaml"}),p=Object(i.jsx)("a",{href:URL.createObjectURL(u),download:"component.yaml",children:"component.yaml"});return Object(i.jsxs)("details",{children:[Object(i.jsxs)("summary",{children:["Graph ",p]}),Object(i.jsx)("pre",{style:{overflow:"auto"},children:a})]})}},39:function(e,t,n){"use strict";var r=n(4),a=n(3),o=n.n(a),c=n(5),i=n(0),s=n(26),u=n(1),p="GoogleCloudSubmitter/gcsOutputDirectory",l="GoogleCloudSubmitter/projectId",d="GoogleCloudSubmitter/region",f="GoogleCloudSubmitter/projectIds",m="640001104961-2m8hs192tmd9f9nssbr5thr5o3uhmita.apps.googleusercontent.com",b="AIzaSyCDPTffgYGXoit-jKsj1_1WWbSxvU7aEdQ",v=["us-central1","europe-west4","asia-east1"],h=function(){var e=Object(c.a)(o.a.mark((function e(t){var n,r,a,c=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]&&c[1],r=c.length>2&&void 0!==c[2]?c[2]:b,a=c.length>3&&void 0!==c[3]?c[3]:m,e.abrupt("return",new Promise((function(e,o){gapi.client.setApiKey(r),gapi.auth.authorize({client_id:a,scope:t,immediate:n},(function(n){if(void 0===n)console.error("authorizeGoogleCloudClient failed"),o("gapi.auth.authorize result is undefined");else if(n.error)console.error("authorizeGoogleCloudClient failed",n.error),o(n.error);else{var r=n.scope,a=null===r||void 0===r?void 0:r.split(" ");if(void 0!==a&&t.every((function(e){return a.includes(e)})))e(n);else{var c="Authorization call succeeded, but the returned scopes are ".concat(r);console.error(c),o(c)}}}))})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(o.a.mark((function e(t){var n,r,a,c,i,s,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(t,!0);case 3:null===(n=window.dataLayer)||void 0===n||n.push({component:"GoogleCloud",event:"authorizeGoogleCloudClient(immediate=true)",result:"succeeded"}),null===(r=window.dataLayer)||void 0===r||r.push({component:"GoogleCloud",event:"ensureGoogleCloudAuthorizesScopes",result:"succeeded"}),e.next=21;break;case 7:return e.prev=7,e.t0=e.catch(0),null===(a=window.dataLayer)||void 0===a||a.push({component:"GoogleCloud",event:"authorizeGoogleCloudClient(immediate=true)",result:"failed"}),e.prev=10,e.next=13,h(t,!1);case 13:null===(c=window.dataLayer)||void 0===c||c.push({component:"GoogleCloud",event:"authorizeGoogleCloudClient(immediate=false)",result:"succeeded"}),null===(i=window.dataLayer)||void 0===i||i.push({component:"GoogleCloud",event:"ensureGoogleCloudAuthorizesScopes",result:"succeeded"}),e.next=21;break;case 17:e.prev=17,e.t1=e.catch(10),null===(s=window.dataLayer)||void 0===s||s.push({component:"GoogleCloud",event:"authorizeGoogleCloudClient(immediate=false)",result:"failed"}),null===(u=window.dataLayer)||void 0===u||u.push({component:"GoogleCloud",event:"ensureGoogleCloudAuthorizesScopes",result:"failed"});case 21:case"end":return e.stop()}}),e,null,[[0,7],[10,17]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(c.a)(o.a.mark((function e(){var t,n=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>0&&void 0!==n[0]&&n[0],e.next=3,j(["https://www.googleapis.com/auth/cloud-platform"]);case 3:return e.next=5,gapi.client.request({path:"https://cloudresourcemanager.googleapis.com/v1/projects/"});case 5:return t=e.sent,e.abrupt("return",t.result);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(c.a)(o.a.mark((function e(t){var n,r,a,c,i=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:"us-central1",a=i.length>2?i[2]:void 0,e.next=4,j(["https://www.googleapis.com/auth/cloud-platform"]);case 4:return e.next=6,gapi.client.request({path:"https://".concat(r,"-aiplatform.googleapis.com/v1beta1/projects/").concat(t,"/locations/").concat(r,"/pipelineJobs"),method:"POST",body:JSON.stringify(a)});case 6:return c=e.sent,null===(n=window.dataLayer)||void 0===n||n.push({component:"GoogleCloud",event:"aiplatformCreatePipelineJob",result:"succeeded"}),e.abrupt("return",c.result);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.a=function(e){var t=e.componentSpec,n=Object(i.useState)((function(){var e,t;return JSON.parse(null!==(e=null===(t=window.localStorage)||void 0===t?void 0:t.getItem(f))&&void 0!==e?e:"[]")})),a=Object(r.a)(n,2),m=a[0],b=a[1],h=Object(i.useState)((function(){var e,t;return null!==(e=null===(t=window.localStorage)||void 0===t?void 0:t.getItem(l))&&void 0!==e?e:""})),j=Object(r.a)(h,2),x=j[0],y=j[1],w=Object(i.useState)((function(){var e,t;return null!==(e=null===(t=window.localStorage)||void 0===t?void 0:t.getItem(d))&&void 0!==e?e:"us-central1"})),k=Object(r.a)(w,2),S=k[0],_=k[1],C=Object(i.useState)(""),I=Object(r.a)(C,2),A=I[0],E=I[1],T=Object(i.useState)((function(){var e,t;return null!==(e=null===(t=window.localStorage)||void 0===t?void 0:t.getItem(p))&&void 0!==e?e:""})),N=Object(r.a)(T,2),R=N[0],L=N[1],D=Object(i.useState)(""),P=Object(r.a)(D,2),G=P[0],U=P[1],M=Object(i.useState)(""),F=Object(r.a)(M,2),W=F[0],V=F[1],B=void 0,J=void 0;if(void 0!==t)try{var H,X=new Map((null!==(H=t.inputs)&&void 0!==H?H:[]).filter((function(e){return void 0!==e.default})).map((function(e){return[e.name,e.default]})));J=Object(s.a)(t,R,X),B=JSON.stringify(J,void 0,2),""!==W&&V("")}catch(q){q.toString()!==W&&V(q.toString())}var K=B&&URL.createObjectURL(new Blob([B],{type:"application/json"})),z=""!==x&&""!==S&&void 0!==J;return Object(u.jsxs)("form",{onSubmit:function(){var e=Object(c.a)(o.a.mark((function e(t){var n,r,a,c,i,s,u,f,m,b,v;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),void 0!==J){e.next=3;break}return e.abrupt("return");case 3:U(""),e.prev=4;try{null===(n=window.localStorage)||void 0===n||n.setItem(p,R),null===(r=window.localStorage)||void 0===r||r.setItem(l,x),null===(a=window.localStorage)||void 0===a||a.setItem(d,S)}catch(q){console.error("GoogleCloudSubmitter: Error writing properties to the localStorage",q)}return e.next=8,O(x,S,J);case 8:c=e.sent,i=c.name,s=i.split("/").slice(-1)[0],u="https://console.cloud.google.com/vertex-ai/locations/".concat(S,"/pipelines/runs/").concat(s,"?project=").concat(x),U(u),E(""),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(4),console.error(e.t0),E(null!==(f=null===e.t0||void 0===e.t0||null===(m=e.t0.result)||void 0===m||null===(b=m.error)||void 0===b?void 0:b.message)&&void 0!==f?f:"Error"),null===(v=window.dataLayer)||void 0===v||v.push({component:"GoogleCloud",event:"aiplatformCreatePipelineJob",result:"failed"});case 21:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t){return e.apply(this,arguments)}}(),children:[Object(u.jsxs)("div",{style:{whiteSpace:"nowrap"},children:[Object(u.jsx)("label",{htmlFor:"project",children:"Project: "}),Object(u.jsx)("input",{id:"project",required:!0,type:"text",list:"projects",placeholder:"<my-project-id>",value:x,onChange:function(e){return y(e.target.value)}}),Object(u.jsx)("datalist",{id:"projects",children:m.map((function(e){return Object(u.jsx)("option",{value:e},e)}))}),Object(u.jsx)("button",{type:"button",onClick:function(){var e=Object(c.a)(o.a.mark((function e(t){var n,r,a,c,i,s,u,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g();case 3:r=e.sent,a=r.projects.map((function(e){return e.projectId})),b(a),E("");try{null===(c=window.localStorage)||void 0===c||c.setItem(f,JSON.stringify(a))}catch(q){console.error("GoogleCloudSubmitter: Error writing properties to the localStorage",q)}null===(n=window.dataLayer)||void 0===n||n.push({component:"GoogleCloud",event:"cloudresourcemanagerListProjects",result:"succeeded"}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),E(null!==(i=null===e.t0||void 0===e.t0||null===(s=e.t0.result)||void 0===s||null===(u=s.error)||void 0===u?void 0:u.message)&&void 0!==i?i:"Error"),null===(p=window.dataLayer)||void 0===p||p.push({component:"GoogleCloud",event:"cloudresourcemanagerListProjects",result:"failed"});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),children:"\u27f3"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"region",children:"Region: "}),Object(u.jsx)("input",{id:"region",required:!0,type:"text",list:"regions",value:S,onChange:function(e){return _(e.target.value)}}),Object(u.jsx)("datalist",{id:"regions",children:v.map((function(e){return Object(u.jsx)("option",{value:e},e)}))})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"region",children:"GCS dir: "}),Object(u.jsx)("input",{id:"gcsOutputDirectory",required:!0,type:"text",value:R,onChange:function(e){return L(e.target.value)}})]}),Object(u.jsx)("input",{type:"submit",disabled:!z,value:"Submit pipeline job"}),""!==G&&Object(u.jsx)("div",{children:Object(u.jsx)("a",{href:G,target:"_blank",rel:"noreferrer",children:"Job"})}),void 0!==K&&Object(u.jsxs)("div",{children:["Download ",Object(u.jsx)("a",{href:K,download:"vertex_pipeline_job.json",children:"vertex_pipeline_job.json"})]}),""!==W&&Object(u.jsx)("div",{children:W}),""!==A&&Object(u.jsxs)("div",{children:["Error: ",A]})]})}},40:function(e,t,n){"use strict";var r=n(6),a=n(13),o=n(26),c=n(1);t.a=function(e){var t=e.componentSpec,n=Object(r.k)((function(e){return e.nodes})),i="";try{t=Object(a.a)(t,n,!0,!0);var s=Object(o.b)(t);i=JSON.stringify(s,void 0,2)}catch(l){i=String(l)}var u=new Blob([i],{type:"application/json"}),p=URL.createObjectURL(u);return Object(c.jsxs)("details",{children:[Object(c.jsxs)("summary",{children:["Cloud IR ",Object(c.jsx)("a",{href:p,download:"vertex_pipeline_spec.json",children:"vertex_pipeline_spec.json"})]}),Object(c.jsx)("pre",{style:{overflow:"auto"},children:i})]})}},41:function(e,t,n){"use strict";var r=n(6),a=n(10),o=n.n(a),c=n(13),i=n(1);t.a=function(e){var t=e.componentSpec,n=e.downloadFileName,a=void 0===n?"component.yaml":n,s=e.linkText,u=void 0===s?"component.yaml":s,p=Object(r.k)((function(e){return e.nodes})),l="";try{t=Object(c.a)(t,p,!1,!0),l=o.a.dump(t,{lineWidth:1e4})}catch(f){return Object(i.jsx)(i.Fragment,{children:"err.toString()"})}var d=new Blob([l],{type:"text/yaml"});return Object(i.jsx)("a",{href:URL.createObjectURL(d),download:a,children:u})}},43:function(e,t,n){"use strict";var r=n(3),a=n.n(r),o=n(5),c=n(4),i=n(0),s=n(1);t.a=function(e){e.componentSpec;var t=Object(i.useState)(""),n=Object(c.a)(t,2),r=n[0],u=n[1];return Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{onClick:function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://704a448c0a693194-dot-us-central2.pipelines.googleusercontent.com/apis/v1beta1/runs",{headers:new Headers({})});case 2:return n=e.sent,e.next=5,n.text();case 5:r=e.sent,u(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:"List KFP runs"}),Object(s.jsx)("span",{children:r})]})}},45:function(e,t,n){"use strict";var r=n(2),a=n(3),o=n.n(a),c=n(5),i=n(4),s=n(0),u=n(44),p=n(10),l=n.n(p),d=n(8),f=n.n(d),m=n(14),b="components",v="digest_to_component_spec",h="component_ref_lists",j=function(){var e=Object(c.a)(o.a.mark((function e(t){var n,r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?(new TextEncoder).encode(t):t,e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,a=Array.from(new Uint8Array(r)),c=a.map((function(e){return e.toString(16).padStart(2,"0")})).join(""),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(c.a)(o.a.mark((function e(t,n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.a.createInstance({name:b,storeName:v}),a=f.a.createInstance({name:b,storeName:"digest_to_component_name"}),e.next=4,r.setItem(t,n);case 4:if(void 0===n.name){e.next=7;break}return e.next=7,a.setItem(t,n.name);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(c.a)(o.a.mark((function e(t){var n,r,a,c,i,s,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="string"===typeof t?t:(new TextDecoder).decode(t),r="string"===typeof t?(new TextEncoder).encode(t):t,"object"===typeof(a=l.a.load(n))&&null!==a){e.next=5;break}throw Error("componentText is not a YAML-encoded object: ".concat(a));case 5:if(Object(m.c)(a)){e.next=7;break}throw Error("componentText does not encode a valid pipeline component: ".concat(a));case 7:return c=a,e.next=10,j(r);case 10:return i=e.sent,s=f.a.createInstance({name:b,storeName:"digest_to_component_data"}),e.next=14,s.setItem(i,r);case 14:return e.next=16,g(i,c);case 16:return u={spec:c,digest:i},e.abrupt("return",u);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(c.a)(o.a.mark((function e(t,n){var r,a,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(n);case 2:return a=e.sent,c=f.a.createInstance({name:b,storeName:h}),e.next=6,c.getItem(t);case 6:if(e.t1=r=e.sent,e.t0=null!==e.t1,!e.t0){e.next=10;break}e.t0=void 0!==r;case 10:if(!e.t0){e.next=14;break}e.t2=r,e.next=15;break;case 14:e.t2=[];case 15:return(i=e.t2).push(a),e.next=19,c.setItem(t,i);case 19:return e.abrupt("return",a);case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(c.a)(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.a.createInstance({name:b,storeName:h}),e.next=3,r.getItem(t);case 3:if(e.t1=n=e.sent,e.t0=null!==e.t1,!e.t0){e.next=7;break}e.t0=void 0!==n;case 7:if(!e.t0){e.next=11;break}e.t2=n,e.next=12;break;case 11:e.t2=[];case 12:return a=e.t2,e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=n(19),k=n(1),S="user_components";t.a=function(){var e=Object(s.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],p=Object(s.useState)([]),l=Object(i.a)(p,2),d=l[0],f=l[1];Object(s.useEffect)((function(){y(S).then(f)}),[]);var m=Object(s.useCallback)((function(e){var t;null===(t=window.dataLayer)||void 0===t||t.push({component:"UserComponents",event:"dropped files"}),e.forEach((function(e){var t=new FileReader;t.onabort=function(){return console.log("file reading was aborted")},t.onerror=function(){return console.log("file reading has failed")},t.onload=Object(c.a)(o.a.mark((function e(){var n,r,c,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=t.result)&&void 0!==n){e.next=4;break}return console.error("Dropped file reader result was ".concat(n)),e.abrupt("return");case 4:return e.prev=4,e.next=7,x(S,n);case 7:return c=e.sent,null===(r=window.dataLayer)||void 0===r||r.push({component:"UserComponents",event:"dropped component imported"}),console.debug("storeComponentText succeeded",c),a(""),e.next=13,y(S);case 13:i=e.sent,f(i),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(4),a("Error parsing the dropped file as component: ".concat(e.t0.toString(),".")),console.error("Error parsing the dropped file as component",e.t0),null===(s=window.dataLayer)||void 0===s||s.push({component:"UserComponents",event:"dropped component failed to import"});case 22:case"end":return e.stop()}}),e,null,[[4,17]])}))),t.readAsArrayBuffer(e)}))}),[]),b=Object(u.a)({onDrop:m}),v=b.getRootProps,h=b.getInputProps,j=b.isDragActive;return Object(k.jsx)("div",{children:Object(k.jsxs)("div",Object(r.a)(Object(r.a)({},v()),{},{children:[Object(k.jsx)("input",Object(r.a)({},h())),Object(k.jsxs)("div",{style:{border:"1px solid black",padding:"4px",minHeight:"3em"},children:[j?"Drop the files here ...":n||"Drag and drop component.yaml files or click to select files",d.map((function(e){return Object(k.jsx)(w.a,{componentReference:e},e.digest)}))]})]}))})}},51:function(e,t,n){},52:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(20),c=n.n(o),i=(n(51),n(52),n(4)),s=n(6),u=n(10),p=n.n(u),l=n(13),d=n(35),f=n(12),m=(n(83),n(1)),b="autosaved.component.yaml",v=function(e){var t=e.componentSpec,n=Object(s.k)((function(e){return e.nodes}));return void 0!==n&&n.length>0&&function(e,t){try{void 0!==t&&(0===t.length&&console.warn("saveComponentSpec: nodes.length === 0"),e=Object(l.a)(e,t,!0,!0));var n=p.a.dump(e,{lineWidth:1e4});window.sessionStorage.setItem(b,n)}catch(r){console.error(r)}}(t,n),null},h=function(){var e=Object(r.useState)(),t=Object(i.a)(e,2),n=t[0],a=t[1];if(void 0===n){var o=function(){try{var e=window.sessionStorage.getItem(b);if(null!==e){var t=p.a.load(e);if(null!==t&&"object"===typeof t)return t}}catch(n){console.error(n)}}();void 0===o?Object(f.e)(f.d).then(a):a(o)}return void 0===n?Object(m.jsx)(m.Fragment,{}):Object(m.jsx)("div",{className:"dndflow",children:Object(m.jsxs)(s.g,{children:[Object(m.jsx)("div",{className:"reactflow-wrapper",children:Object(m.jsxs)(l.b,{componentSpec:n,setComponentSpec:a,deleteKeyCode:"Delete",multiSelectionKeyCode:"Control",snapToGrid:!0,snapGrid:[10,10],children:[Object(m.jsx)(s.e,{}),Object(m.jsx)(s.c,{}),Object(m.jsx)(s.b,{gap:10})]})}),Object(m.jsx)(d.a,{componentSpec:n,setComponentSpec:a}),Object(m.jsx)(v,{componentSpec:n})]})})};var j=function(){return Object(m.jsx)("div",{className:"App",style:{width:"100%",height:"100%"},children:Object(m.jsx)(h,{})})},g=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function O(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,85)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),o(e),c(e)}))};c.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(j,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/pipeline-editor",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/pipeline-editor","/service-worker.js");g?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):O(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):O(t,e)}))}}(),x()}},[[84,1,2]]]);
//# sourceMappingURL=main.ada6a8b4.chunk.js.map