(this["webpackJsonppipeline-editor"]=this["webpackJsonppipeline-editor"]||[]).push([[0],{26:function(e,t,n){},27:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(11),c=n.n(o),i=(n(26),n(27),n(6)),s=n(3),u=n(2),l=n.n(u),d=n(5),p=n(14),f=n.n(p);function h(){return b.apply(this,arguments)}function b(){return(b=Object(d.a)(l.a.mark((function e(){var t,n=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"https://raw.githubusercontent.com/kubeflow/pipelines/603342c4b88fe2d69ff07682f702cd3601e883bb/components/PyTorch/Train_PyTorch_model/from_CSV/component.yaml",e.abrupt("return",fetch(t).then((function(e){return e.text()})).then((function(e){return f.a.load(e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=n(1),v=function(e,t){console.log("JSON.stringify(nodeData)="+JSON.stringify(t)),e.dataTransfer.setData("application/reactflow",JSON.stringify(t)),e.dataTransfer.effectAllowed="move"},g=function(){var e;return Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h("https://raw.githubusercontent.com/kubeflow/pipelines/603342c4b88fe2d69ff07682f702cd3601e883bb/components/PyTorch/Train_PyTorch_model/from_CSV/component.yaml");case 2:e=t.sent;case 3:case"end":return t.stop()}}),t)})))(),console.log("componentSpec="+e),Object(m.jsxs)("aside",{children:[Object(m.jsx)("div",{className:"description",children:"You can drag these nodes to the pane on the right."}),Object(m.jsx)("div",{className:"react-flow__node-input",onDragStart:function(e){return v(e,{input:{label:"Input Node"}})},draggable:!0,children:"Input Node"}),Object(m.jsx)("div",{className:"react-flow__node-default",onDragStart:function(e){return v(e,{default:{label:"Default Node"}})},draggable:!0,children:"Default Node"}),Object(m.jsx)("div",{className:"react-flow__node-output",onDragStart:function(e){return v(e,{output:{label:"Output Node"}})},draggable:!0,children:"Output Node"}),Object(m.jsx)("div",{className:"react-flow__node react-flow__node-multihandle",draggable:!0,onDragStart:function(e){return v(e,{multihandle:{handles:{top:{type:"target",ids:["top_1","top_2","top_3"]},bottom:{type:"source",ids:["bottom_1","bottom_2"]},left:{type:"target",ids:["left_1"]},right:{type:"source",ids:["right_1"]}},label:"Multi-handle node (3-2-1-1)"}})},children:"Multi-port Node 3-2-1-1"}),Object(m.jsx)("button",{onClick:function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Clicked"),e.next=3,h("https://raw.githubusercontent.com/kubeflow/pipelines/603342c4b88fe2d69ff07682f702cd3601e883bb/components/PyTorch/Train_PyTorch_model/from_CSV/component.yaml");case 3:return r=e.sent,console.log(r),a=null===r||void 0===r||null===(n=r.inputs)||void 0===n?void 0:n.map((function(e){return e.name})),console.log(a),e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:"Load"}),Object(m.jsx)("div",{className:"react-flow__node react-flow__node-multihandle",draggable:!0,onDragStart:function(){var t=Object(d.a)(l.a.mark((function t(n){var r,a,o,c,i,s,u,d;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("componentSpec{div}="+e),void 0!==e){t.next=3;break}return t.abrupt("return");case 3:return c=null!==(r=e.inputs)&&void 0!==r?r:[],i=c.map((function(e){return e.name})),s=null!==(a=e.outputs)&&void 0!==a?a:[],u=s.map((function(e){return e.name})),d=null!==(o=e.name)&&void 0!==o?o:"Component",console.log(i),t.abrupt("return",v(n,{multihandle:{handles:{top:{type:"target",ids:i},bottom:{type:"source",ids:u}},label:d}}));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"PyTorch/Train_PyTorch_model/from_CSV"}),Object(m.jsx)("div",{className:"react-flow__node react-flow__node-multihandle",draggable:!0,onDragStart:function(t){return v(t,{task:{componentRef:{spec:e}}})},children:"2 PyTorch/Train_PyTorch_model/from_CSV"})]})},j=n(8),x=n(7),w=n.n(x),O="https://api.github.com/search",y="raw.githubusercontent.com/.../component.yaml",_="components",k="hash_to_data",S="hash_to_component_name",N="url_to_hash",C="hash_to_url",T="url_version",D=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var r,a,o,c,i=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]&&i[2],e.next=3,caches.open(n);case 3:return a=e.sent,e.next=6,a.match(t);case 6:if(void 0===(o=e.sent)){e.next=10;break}return r&&a.add(t),e.abrupt("return",o);case 10:return e.next=12,a.add(t);case 12:return e.next=14,a.match(t);case 14:if(void 0!==(c=e.sent)){e.next=17;break}return e.abrupt("return",Promise.reject("Added object to cache, but counld not find it"));case 17:return e.abrupt("return",c);case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r,a,o,c,i,s,u,d=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>1&&void 0!==d[1]?d[1]:1,r=d.length>2&&void 0!==d[2]?d[2]:"indexed",a=d.length>3&&void 0!==d[3]?d[3]:"desc",o=encodeURIComponent(t),c=encodeURIComponent(r),i=encodeURIComponent(a),s="https://api.github.com/search/code?q=".concat(o,"&sort=").concat(c,"&order=").concat(i,"&per_page=100&page=").concat(n),e.next=9,D(s,O,!0);case 9:return u=e.sent,e.abrupt("return",u.json());case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(e){return e.replace("https://github.com/","https://raw.githubusercontent.com/").replace("/blob/","/")},P=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,r,a,o,c,i,s,u,d=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=d.length>0&&void 0!==d[0]?d[0]:["kubeflow","Ark-kun"],n=[],r="filename:component.yaml "+t.map((function(e){return"user:"+e})).join(" "),a=1;case 4:if(!(a<100)){e.next=16;break}return e.next=7,I(r,a);case 7:if(o=e.sent,0!==(c=o.items).length){e.next=11;break}return e.abrupt("break",16);case 11:i=Object(j.a)(c);try{for(i.s();!(s=i.n()).done;)u=s.value,n.push({url:E(u.html_url),hash:u.sha})}catch(l){i.e(l)}finally{i.f()}case 13:a++,e.next=4;break;case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,r,a,o,c,i,s,u,d,p,h,b,m,v,g,x,O,I,L,A=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=A.length>0&&void 0!==A[0]?A[0]:["kubeflow","Ark-kun"],e.next=3,P(t);case 3:n=e.sent,r=w.a.createInstance({name:_,storeName:N}),a=w.a.createInstance({name:_,storeName:C}),o=w.a.createInstance({name:_,storeName:k}),c=w.a.createInstance({name:_,storeName:S}),i=w.a.createInstance({name:_,storeName:T}),s=Object(j.a)(n),e.prev=10,s.s();case 12:if((u=s.n()).done){e.next=66;break}if(d=u.value,p=d.hash.toLowerCase(),h=d.url,e.prev=16,(b=E(h)).endsWith("component.yaml")){e.next=21;break}return console.debug("Skipping url ".concat(b,' since it does not end with "component.yaml"')),e.abrupt("continue",64);case 21:return e.next=23,r.getItem(b);case 23:return null!==(m=e.sent)&&m!==p&&console.error("Component cache is broken. Stored hash for ".concat(b,": ").concat(m," != ").concat(p,".")),e.next=27,i.getItem(b);case 27:if(v=e.sent,!(null!==m&&null!==v&&Number.parseInt(v)>=1)){e.next=30;break}return e.abrupt("continue",64);case 30:return console.debug("Processing new component candidate: ".concat(b,".")),e.next=33,D(b,y);case 33:return g=e.sent,e.next=36,g.blob();case 36:return x=e.sent,e.next=39,x.text();case 39:if(O=e.sent,I=f.a.load(O),void 0!==(L=I).implementation){e.next=44;break}return e.abrupt("continue",64);case 44:return e.next=46,o.setItem(p,O);case 46:return e.next=48,a.getItem(p);case 48:if(null!==e.sent){e.next=52;break}return e.next=52,a.setItem(p,b);case 52:if(!L.name){e.next=55;break}return e.next=55,c.setItem(p,L.name);case 55:return e.next=57,r.setItem(b,p);case 57:return e.next=59,i.setItem(b,1);case 59:e.next=64;break;case 61:e.prev=61,e.t0=e.catch(16),console.error("Error when processing component candidate ".concat(h," Error: ").concat(e.t0,"."));case 64:e.next=12;break;case 66:e.next=71;break;case 68:e.prev=68,e.t1=e.catch(10),s.e(e.t1);case 71:return e.prev=71,s.f(),e.finish(71);case 74:case"end":return e.stop()}}),e,null,[[10,68,71,74],[16,61]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,r,a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w.a.createInstance({name:_,storeName:C}),n=w.a.createInstance({name:_,storeName:k}),r=new Map,console.log("Start cacheAllComponents"),a=L(),e.next=7,n.length();case 7:if(e.t0=e.sent,0!==e.t0){e.next=11;break}return e.next=11,a;case 11:return e.next=13,n.iterate((function(e,t,n){try{var a=f.a.load(e);r.set(t,{spec:a})}catch(o){console.error("Error when parsing cached component. Hash: ".concat(t,". Error: ").concat(o,". Component text: ").concat(e))}}));case 13:return e.next=15,t.iterate((function(e,t,n){var a=r.get(t);void 0===a?console.error("Component db corrupted: Component with url ".concat(e," and hash ").concat(t," has no content in the DB.")):a.url=e}));case 15:return o=[],r.forEach((function(e,t){void 0===e.url?console.error("Component db corrupted: Component with hash ".concat(t," has content, but no URL in the DB.")):o.push(e)})),e.abrupt("return",o);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:return n=e.sent,e.abrupt("return",n.filter((function(e){var n,r,a;return null!==(n=null===(r=e.spec)||void 0===r||null===(a=r.name)||void 0===a?void 0:a.toLowerCase().includes(t.toLowerCase()))&&void 0!==n&&n})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(e){var t=Object(r.useState)(void 0),n=Object(i.a)(t,2),a=n[0],o=n[1],c=Object(r.useState)(!0),s=Object(i.a)(c,2),u=s[0],p=s[1],f=Object(r.useState)(!1),h=Object(i.a)(f,2),b=h[0],v=h[1],g=Object(r.useState)(""),j=Object(i.a)(g,2),x=j[0],w=j[1],O=Object(r.useState)([]),y=Object(i.a)(O,2),_=y[0],k=y[1];function S(){return(S=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U(t).then((function(e){v(!0),k(e)}),(function(e){v(!0),o(e.message)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=Object(m.jsx)("span",{});if(u)N=Object(m.jsx)("div",{children:"Enter search query"});else if(void 0!==a)N=Object(m.jsxs)("div",{children:["Error: ",a]});else if(u||b){if(void 0!==_){var C=_.map((function(e){var t;return Object(m.jsx)("div",{title:e.url,className:"react-flow__node react-flow__node-multihandle",draggable:!0,onDragStart:function(t){return function(e,t){console.log("JSON.stringify(nodeData)="+JSON.stringify(t)),e.dataTransfer.setData("application/reactflow",JSON.stringify(t)),e.dataTransfer.effectAllowed="move"}(t,{task:{componentRef:e}})},children:null===(t=e.spec)||void 0===t?void 0:t.name},e.url)}));N=Object(m.jsx)(m.Fragment,{children:C})}}else N=Object(m.jsx)("div",{children:"Loading..."});return Object(m.jsxs)("div",{className:"nodeList",children:[Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==x&&(p(!1),function(e){S.apply(this,arguments)}(x))},children:[Object(m.jsx)("input",{placeholder:"XGBoost",onChange:function(e){w(e.target.value)}}),Object(m.jsx)("input",{type:"submit"})]}),Object(m.jsx)("div",{children:N})]})},J=function(e){var t=e.data,n=[];for(var r in t.handles)for(var a=t.handles[r],o=a.ids.length,c=0;c<o;c++){var i=a.ids[c],u=String(100*((c+1)/(o+1)))+"%",l=r===s.e.Top||r===s.e.Bottom?{left:u}:{top:u};n.push(Object(m.jsx)(s.c,{type:a.type,position:r,id:i,style:l,isConnectable:!0},i))}return Object(m.jsxs)(m.Fragment,{children:[t.label,n]})},R=Object(r.memo)(J),W=s.e.Top,F=s.e.Bottom;function V(e,t,n,r){for(var a=[],o=e.length,c=0;c<o;c++){var i,u,l=e[c],d=r+l.name,p=String(100*((c+1)/(o+1)))+"%",f=n===s.e.Top||n===s.e.Bottom?{left:p}:{top:p},h=null!==(i=null===(u=l.type)||void 0===u?void 0:u.toString())&&void 0!==i?i:"Any",b=h;a.push(Object(m.jsx)(s.c,{type:t,position:n,id:d,style:f,isConnectable:!0,title:l.name+" : "+h,className:"handle_"+b},d))}return a}var M=function(e){var t,n,r,a=e.data.componentRef.spec;if(void 0===a)return Object(m.jsx)(m.Fragment,{});var o=null!==(t=a.name)&&void 0!==t?t:"<component>",c=V(null!==(n=a.inputs)&&void 0!==n?n:[],"target",W,"input_"),i=V(null!==(r=a.outputs)&&void 0!==r?r:[],"source",F,"output_"),s=c.concat(i);return Object(m.jsxs)(m.Fragment,{children:[o,s]})},G=Object(r.memo)(M),q=(n(55),{multihandle:R,task:G}),K=[{id:"1",type:"input",data:{label:"input node"},position:{x:250,y:5}}],X=function(e){e.preventDefault(),e.dataTransfer.dropEffect="move"},Y=0,H=function(){var e=Object(r.useState)(),t=Object(i.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)(K),c=Object(i.a)(o,2),u=c[0],l=c[1];return Object(m.jsx)("div",{className:"dndflow",children:Object(m.jsxs)(s.f,{children:[Object(m.jsx)("div",{className:"reactflow-wrapper",children:Object(m.jsxs)(s.h,{elements:u,onConnect:function(e){return l((function(t){return Object(s.g)(e,t)}))},onElementsRemove:function(e){return l((function(t){return Object(s.i)(e,t)}))},onEdgeUpdateStart:function(e,t){return console.log("start update",t)},onEdgeUpdateEnd:function(e,t){return console.log("end update",t)},onEdgeUpdate:function(e,t){return l((function(n){return Object(s.j)(e,t,n)}))},onLoad:function(e){return a(e)},onDrop:function(e){if(e.preventDefault(),n){console.log("event.dataTransfer.data="+e.dataTransfer.getData("application/reactflow"));var t=JSON.parse(e.dataTransfer.getData("application/reactflow")),r=Object.keys(t)[0],a=t[r],o=n.project({x:e.clientX,y:e.clientY-40}),c={id:"dndnode_".concat(Y++),type:r,position:o,data:a};l((function(e){return e.concat(c)}))}},onDragOver:X,nodeTypes:q,deleteKeyCode:"Delete",multiSelectionKeyCode:"Control",snapToGrid:!0,snapGrid:[10,10],children:[Object(m.jsx)(s.d,{}),Object(m.jsx)(s.b,{}),Object(m.jsx)(s.a,{gap:10})]})}),Object(m.jsx)(g,{}),Object(m.jsx)(B,{})]})})};var $=function(){return Object(m.jsx)("div",{className:"App",style:{width:"100%",height:"90%"},children:Object(m.jsx)(H,{})})},z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Q(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),o(e),c(e)}))};c.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)($,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");z?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Q(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Q(t,e)}))}}(),Z()}},[[56,1,2]]]);
//# sourceMappingURL=main.52dad383.chunk.js.map